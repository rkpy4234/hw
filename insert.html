<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>
    <link rel="stylesheet" href="./assets/css/style.css">
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
<style>
     :root {
            --body-color: #dde1e7;
            --nav-color: #dde1e7;
            --side-nav: #dde1e7;
            --text-color: #595959;
            --header: #2C3E50;
            --search-bar: #595959;
            --search-text: #595959;
            --hover-txt-color: #1A73E8;
            --box-shadow: -3px -3px 7px #ffffff73,
                2px 2px 5px rgba(94, 101, 121, 0.288);
            --box-inset-shadow: inset 2px 2px 5px #babecc,
                inset -5px -5px 10px #ffffff73;
            --transparent-color: rgba(221, 225, 231, 0.8);
        }

        .container-fluid {
            width: 100%;
            min-height: 100vh;
            padding: 10px;
            display: flex;
            justify-content: center;
            align-items: center;
     
        }

        .container {
            margin-top: 100px;
            max-width: 310px;
            padding: 25px 20px;
            border-radius: 10px;
            background-image: url(blur.png);
            background-size: contain;
            background-position: center;
            background-repeat: no-repeat;
            margin: 100px auto auto auto;
            box-shadow: var(--box-shadow);
        }
        .insert{
            background: transparent;
        }
       
        .insert h1{
            font-size: 27px;
            font-weight: 800;
            text-align: center;
            margin-bottom: 20px;
            color: var(--header);
        }
        .insert label {
            font-size: 25px;
            background: transparent;
            color: var(--header);
        }
        .insert select, input{
            padding-left: 10px;
            width: 100%;   
            color: #1A73E8;
            min-height: 30px;
            font-size: 18px;
            outline: none;
            background: transparent;
            border: none;
            border-radius: 5px;
            box-shadow: var(--box-shadow);
        }
        .insert input:focus{
            color: #1A73E8;
            box-shadow: var(--box-inset-shadow);
        }
        .insert select:focus{
            color: #1A73E8;
            box-shadow: var(--box-inset-shadow);
        }
        .btn{
            width: 100%;
        }
        button{
           float: right;
           
           font-size: 20px;
           padding: 2px 8px;
           border-radius: 8px;
           border: none;
           box-shadow: var(--box-shadow);
           color: #055415;
           font-weight: 700;
        }
        button:focus{
            box-shadow: var(--box-inset-shadow);
            color: #1A73E8;
        }
        button:hover{
            box-shadow: var(--box-inset-shadow);
            color: #1A73E8;
        }
        form{
            width: 100%;
            background: transparent;
        }
</style>
</head>

<body>
    <header>
        <nav>
            <div class="nav-logo">
                <a style="text-decoration: none;" href="index.html">
                    <img src="logo.png" width="40px" />

                </a>
            </div>
            <div class="searchBox">
                <i class='bx bx-menu open'></i>
                <i class='bx bx-x close'></i>
            </div>
            <ul class="header-main">
                <li><a href="index.html" class="active">Home</a></li>
                <li><a href="insert.html">Insert</a></li>
                <li><a href="https://www.ramkrishna4234.com.np/">Logout</a></li>

            </ul>

        </nav>
    </header>

    <div class="container-flui">
        <div class="container">
            <div class="insert">

                <h1>Student Record</h1>
                <form id="crewForm">
      
                    <label for="name">Name:</label><br>
                    <input type="text" id="name" name="name" placeholder="Enter Your Name" required><br><br>
            
                    <label for="phone">Phone:</label><br>
                    <input type="number" id="phone" name="phone" placeholder="980000000"><br><br>
            
                    <label for="crew">Crew/Troop:</label><br>
                    <input type="text" id="crew" name="crew" required placeholder="Enter Crew/troop"><br><br>
            
                    <label for="shift">Shift:</label><br>
                    <select id="shift" name="shift" required>
                        <option value="">Select Shift</option>
                        <option value="Night">Night</option>
                        <option value="Morn">Morning</option>
                        <option value="Day">Day</option>
                        <option value="Even">Evening</option>
                    </select><br><br>
                    <div class="btn">
                        <button type="button" id="submitButton" onclick="submitForm()">Submit</button>
              
                    </div>
                      </form>
            </div>
        </div>
    </div>

   










    <script>
        const body = document.querySelector("body"),
            header = document.querySelector("header"),
            nav = document.querySelector("nav"),

            searchBox = document.querySelector(".searchBox"),
            open = document.querySelector(".open"),
            close = document.querySelector(".close"),
            arrowTop = document.querySelector(".arrowTop");

        //toggle for nav bar
        searchBox.addEventListener("click", () => {
            searchBox.classList.toggle("active");
            // nav.classList.add("active");
        });


        //for side bar

        open.addEventListener("click", () => {
            nav.classList.add("active");
        })
        body.addEventListener("click", e => {
            let clickedElm = e.target;

            if (!clickedElm.classList.contains("open") && !clickedElm.classList.contains("menu")) {
                nav.classList.remove("active");
                searchBox.classList.remove("active");
            }
        })

        //header close

        function submitForm() {
            const submitButton = document.getElementById('submitButton');
            const form = document.getElementById('crewForm');

            // Disable the submit button
            submitButton.disabled = true;

            const formData = {
                name: document.getElementById('name').value,
                phone: document.getElementById('phone').value,
                crew: document.getElementById('crew').value,
                shift: document.getElementById('shift').value
            };

            // Replace YOUR_WEB_APP_URL with your Google Apps Script Web App URL
            const scriptURL = 'https://script.google.com/macros/s/AKfycbw0bKfpgtX-iq4S0VjrkH0Y7G0F_ppl3ey0joHTOUrrG79SNn9C2akIwS_b1vYfznUA/exec';

            fetch(scriptURL, {
                method: 'POST',
                body: JSON.stringify(formData),

            })
                .then(response => response.text())
                .then(result => {
                    alert('Data saved successfully!');

                    // Enable the submit button after successful submission
                    submitButton.disabled = false;

                    // Reset the form
                    form.reset();
                })
                .catch(error => {
                    alert('Error: ' + error);

                    // Re-enable the submit button if an error occurs
                    submitButton.disabled = false;
                });
        }

    </script>
</body>

</html>